<% layout("layouts/boilerplate") %>

    <style>
        .btns {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
        }

        .edit-btn,
        .del-btn {
            min-width: 120px;
            height: 2.6rem;
        }

        @media (max-width: 768px) {
            .btns {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>

    <div class="container my-5">
        <div class="row justify-content-center">
            <div class="col-lg-7 col-md-9 col-sm-11">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h2 class="card-title text-primary mb-3">
                            <%= product.name %>
                        </h2>
                        <p class="text-muted mb-2">Added by <i>
                                <%= product.addedBy.username %>
                            </i></p>
                        <hr>

                        <h4 class="text-success mb-3">&#8377; <%= product.price.toLocaleString("en-IN") %>
                        </h4>

                        <p class="mb-2">Price (USD): <strong>$<%= usdPrice %></strong></p>
                        <p class="mb-3">Price (EUR): <strong>â‚¬<%= eurPrice %></strong></p>

                        <p class="mb-2"><strong>Quantity:</strong>
                            <%= product.quantity %>
                        </p>
                        <p class="mb-4"><strong>Category:</strong>
                            <%= product.category %>
                        </p>

                        <% if (currUser && currUser._id.equals(product.addedBy._id)) { %>
                            <div class="btns">
                                <a href="/products/<%= product._id %>/edit" class="btn btn-primary edit-btn">Edit</a>
                                <form action="/products/<%= product._id %>?_method=DELETE" method="post"
                                    class="d-inline">
                                    <button type="submit" class="btn btn-danger del-btn">Delete</button>
                                </form>
                            </div>
                            <% } %>
                    </div>
                </div>
            </div>
        </div>
    </div>